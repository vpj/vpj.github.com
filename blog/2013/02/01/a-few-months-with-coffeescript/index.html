
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A few months with Coffeescript - vpj's diary</title>
  <meta name="author" content="Varuna Jayasiri">

  
  <meta name="description" content="We moved to coffeescript about 3 months back and
Rewrote all the javascript code in coffescript in active projects.
So far things have been very &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://vpj.github.com/blog/2013/02/01/a-few-months-with-coffeescript/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="vpj's diary" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37809145-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">vpj's diary</a></h1>
  
    <h2>I could be wrong you know</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:vpj.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">A Few Months With Coffeescript</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-01T21:42:00+05:30" pubdate data-updated="true">Feb 1<span>st</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>We moved to <a href="http://coffeescript.org">coffeescript</a> about 3 months back and
Rewrote all the javascript code in coffescript in active projects.
So far things have been very smooth and we are really happy about the move.</p>

<p><span class='pullquote-right' data-pullquote='easy to learn.'>
Coffeescript is well documented and was quite easy to learn.
It only took a few hours to skim through the documentation and start coding.
Some features of coffeescript was not used at first because of our previous coding patterns.
</span></p>

<p><span class='pullquote-right' data-pullquote='more readable'>
Coffeescript is defenitely more readable than javascript. Almost all operators are replaced with words.
Although this increases the length of the code, it becomes much easier to read.
</span></p>

<p>For example, <code>if, then, else</code> is used instead of conditional statements <code>?:</code>.</p>

<figure class='code'><figcaption><span>Conditional statement  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="nv">workingHours = </span><span class="k">if</span> <span class="nx">sunday</span> <span class="k">then</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">8</span>
</span></code></pre></td></tr></table></div></figure>




<!--
Coffescript doesn't use semicolan and block expressions are delimeted by indentation.
Using `@property` instead of `this.property` improves readability while reducing the number of keystrokes.
-->


<p><span class='pullquote-right' data-pullquote='fewer lines code'>
Code written is coffeescript consists of fewer lines code, and sometimes fewer character in each line.
No curly brackets <code>{, }</code>, simpler function declerations, no variable declerations, etc.
are a few reasons for this. I believe coffeescript reduced the number of lines of our code by 15% to 40%.
</span></p>

<p>Also, Coffeescript has some cool features such as existance operator,
default values for function arguments, looping through arrays and objects, array slicing,
destructuring assignements, string interpolation, etc. to solve some of
the frequently occuring difficulties in javascript.</p>

<p>For instance, with string interpolation, instead of having to code
<code>"&lt;h1&gt;" + heading + "&lt;/h1&gt;&lt;p&gt;" + description + "&lt;/p&gt;</code>,
you could just write <code>"&lt;h1&gt;#{heading}&lt;/h1&gt;&lt;p&gt;#{description}&lt;/p&gt;"</code>.</p>

<h2>One language to rule them all</h2>

<p>We are using <a href="https://github.com/gradus/coffeecup">coffeecup</a> instead of HTML. So this takes of the need to maintain templates separately,
with different template engines for backend and frontend. Coffeecup templates are stored
in separate coffeescript files which are used by both the browser code (frontend)
and node js (backend) - we need backend rendering for indexing bots. And you can avoid repetitive
HTML sections by implementing helpers which can be reused.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Varuna Jayasiri</span></span>

      








  


<time datetime="2013-02-01T21:42:00+05:30" pubdate data-updated="true">Feb 1<span>st</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/coffeecup/'>coffeecup</a>, <a class='category' href='/blog/categories/coffeekup/'>coffeekup</a>, <a class='category' href='/blog/categories/coffeescript/'>coffeescript</a>, <a class='category' href='/blog/categories/html/'>html</a>, <a class='category' href='/blog/categories/javascript/'>javascript</a>, <a class='category' href='/blog/categories/nodejs/'>nodejs</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://vpj.github.com/blog/2013/02/01/a-few-months-with-coffeescript/" data-via="" data-counturl="http://vpj.github.com/blog/2013/02/01/a-few-months-with-coffeescript/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/09/02/nearby-dot-lk-technology-stack/" title="Previous Post: nearby.lk Technology Stack">&laquo; nearby.lk Technology Stack</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/02/01/a-few-months-with-coffeescript/">A few months with Coffeescript</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/02/nearby-dot-lk-technology-stack/">nearby.lk Technology Stack</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/01/07/passing-file-descriptors-between-processes-using-sendmsg-and-recvmsg/">Passing file descriptors between processes using sendmsg() and recvmsg()</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/01/02/tcp-echo-server-example-in-c-plus-plus-using-epoll/">TCP echo server example in C++ using epoll</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/vpj">@vpj</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'vpj',
            count: 2,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Varuna Jayasiri -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'vpj';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://vpj.github.com/blog/2013/02/01/a-few-months-with-coffeescript/';
        var disqus_url = 'http://vpj.github.com/blog/2013/02/01/a-few-months-with-coffeescript/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
